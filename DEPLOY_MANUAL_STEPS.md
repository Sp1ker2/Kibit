# üöÄ –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π simple-stream-server

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **server.js** - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º—É–ª—å—Ç–∏—Å—Ç—Ä–∏–º:
   - ‚úÖ –ù–µ—Å–∫–æ–ª—å–∫–æ publisher'–æ–≤ –≤ –æ–¥–Ω–æ–π –∫–æ–º–Ω–∞—Ç–µ (`publishers: Map<string, {...}>`)
   - ‚úÖ Viewers –º–æ–≥—É—Ç –≤—ã–±–∏—Ä–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å—Ç—Ä–∏–º–µ—Ä–∞ (`viewersByStreamer: Map<string, Set<WebSocket>>`)
   - ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `user` –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–∏–º–µ—Ä–∞

2. **viewer.html** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º:
   - ‚úÖ –ù–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ `summary` —Å–æ–æ–±—â–µ–Ω–∏–π
   - ‚úÖ –ï—Å—Ç—å dropdown –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–∏–º–µ—Ä–∞
   - ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `user` –≤ URL

## üìã –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–µ–ø–ª–æ—è:

### –®–∞–≥ 1: –°–∫–æ–ø–∏—Ä—É–π —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä

–í—ã–ø–æ–ª–Ω–∏ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# 1. –°–∫–æ–ø–∏—Ä—É–π server.js
scp -P 16205 python-streaming/simple-stream-server/server.js root@195.133.17.131:/root/simple-stream-server/server.js

# 2. –°–∫–æ–ø–∏—Ä—É–π viewer.html
scp -P 16205 python-streaming/simple-stream-server/public/viewer.html root@195.133.17.131:/root/simple-stream-server/public/viewer.html
```

### –®–∞–≥ 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh -p 16205 root@195.133.17.131

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏:
cd /root/simple-stream-server

# –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
npm install

# –û—Å—Ç–∞–Ω–æ–≤–∏ —Å—Ç–∞—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å
pkill -f "node server.js"
sleep 2

# –ó–∞–ø—É—Å—Ç–∏ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä
nohup node server.js > /tmp/simple-stream.log 2>&1 &

# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
ps aux | grep "node server.js"

# –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏
tail -f /tmp/simple-stream.log
```

### –ò–ª–∏ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫):

```bash
ssh -p 16205 root@195.133.17.131 'cd /root/simple-stream-server && pkill -f "node server.js" && sleep 2 && nohup node server.js > /tmp/simple-stream.log 2>&1 &'
```

## ‚úÖ –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å:

1. –û—Ç–∫—Ä–æ–π `https://kibitkostreamappv.pp.ua:8443/`
2. –ü—Ä–æ–≤–µ—Ä—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–Ω–∞—Ç
3. –û—Ç–∫—Ä–æ–π –∫–æ–º–Ω–∞—Ç—É –∏ –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –µ—Å—Ç—å dropdown –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–∏–º–µ—Ä–∞
4. –ó–∞–ø—É—Å—Ç–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∏–º–µ—Ä–æ–≤ –≤ –æ–¥–Ω–æ–π –∫–æ–º–Ω–∞—Ç–µ
5. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –≤—Ç–æ—Ä–æ–≥–æ —Å—Ç—Ä–∏–º–µ—Ä–∞ –ø–µ—Ä–≤—ã–π –Ω–µ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è

## üîç –§–∞–π–ª—ã –¥–ª—è –¥–µ–ø–ª–æ—è:

- `python-streaming/simple-stream-server/server.js`
- `python-streaming/simple-stream-server/public/viewer.html`

## üìù –ï—Å–ª–∏ SSH –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ò—Å–ø–æ–ª—å–∑—É–π —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
2. –°–∫–æ–ø–∏—Ä—É–π —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É

