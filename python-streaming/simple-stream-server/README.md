# üé¨ Simple Stream Server

**–ü—Ä–æ—Å—Ç–∏–π —ñ –Ω–∞–¥—ñ–π–Ω–∏–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Å—Ç—Ä—ñ–º—ñ–Ω–≥—É –µ–∫—Ä–∞–Ω—É –±–µ–∑ LiveKit —Ç–∞ WebRTC –ø—Ä–æ–±–ª–µ–º!**

## üöÄ –©–æ —Ü–µ?

–¶–µ **—Å–ø—Ä–æ—â–µ–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ LiveKit** –¥–ª—è –≤–∞—à–æ–≥–æ Python screen recorder. 

- ‚úÖ **–ë–ï–ó** —Å–∫–ª–∞–¥–Ω–æ–≥–æ WebRTC
- ‚úÖ **–ë–ï–ó** –ø—Ä–æ–±–ª–µ–º –∑ NAT/firewall
- ‚úÖ **–ë–ï–ó** TURN —Å–µ—Ä–≤–µ—Ä—ñ–≤
- ‚úÖ –ü—Ä–æ—Å—Ç–æ WebSocket + HTTPS
- ‚úÖ –ü—Ä–∞—Ü—é—î –æ–¥—Ä–∞–∑—É!

## üì¶ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### 1. –°–µ—Ä–≤–µ—Ä (Node.js)
- `server.js` - –æ—Å–Ω–æ–≤–Ω–∏–π WebSocket —Å–µ—Ä–≤–µ—Ä
- `public/index.html` - —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω–∏—Ö –∫—ñ–º–Ω–∞—Ç
- `public/viewer.html` - –ø–µ—Ä–µ–≥–ª—è–¥ —Å—Ç—Ä—ñ–º—É

### 2. Python –ö–ª—ñ—î–Ω—Ç
- `PythonRecorderApp/simple_recorder.py` - –∑–∞–ø–∏—Å—É—î –µ–∫—Ä–∞–Ω —ñ —Å—Ç—Ä—ñ–º–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä

## üîß –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ (–≤–∂–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ):
```bash
cd /root/simple-stream-server
npm install
node server.js
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –Ω–∞: `https://kibitkostreamappv.pp.ua:8443`

### –ù–∞ –∫–ª—ñ—î–Ω—Ç—ñ (–≤–∞—à MacBook):
```bash
cd /Users/bogdanprihodko/Downloads/LiveKit/PythonRecorderApp
pip install -r simple_requirements.txt
python simple_recorder.py
```

## üìã –Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è

### –ó–∞–ø—É—Å–∫ Python –∫–ª—ñ—î–Ω—Ç–∞:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ `simple_recorder.py`
2. –í–≤–µ–¥—ñ—Ç—å **–Ω–∞–∑–≤—É –∫—ñ–º–Ω–∞—Ç–∏** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `Azov_2`)
3. –í–≤–µ–¥—ñ—Ç—å **–≤–∞—à–µ —ñ–º'—è** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `67`)
4. –í–∏–±–µ—Ä—ñ—Ç—å **–µ–∫—Ä–∞–Ω –¥–ª—è –∑–∞–ø–∏—Å—É**
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"–ü–æ—á–∞—Ç–∏ –∑–∞–ø–∏—Å"**

### –ü–µ—Ä–µ–≥–ª—è–¥ —Å—Ç—Ä—ñ–º—É:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ: https://kibitkostreamappv.pp.ua:8443
2. –ü–æ–±–∞—á–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω–∏—Ö –∫—ñ–º–Ω–∞—Ç
3. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –∫—ñ–º–Ω–∞—Ç—É —â–æ–± –¥–∏–≤–∏—Ç–∏—Å—è —Å—Ç—Ä—ñ–º

## üéØ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Python Client  ‚îÇ  WebSocket       ‚îÇ  Node.js Server  ‚îÇ
‚îÇ  (Recorder)     ‚îÇ ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê>‚îÇ  (port 8443)     ‚îÇ
‚îÇ                 ‚îÇ  JPEG frames     ‚îÇ                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                              ‚îÇ
                                              ‚îÇ WebSocket
                                              ‚ñº
                                     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                     ‚îÇ  Browser Viewer  ‚îÇ
                                     ‚îÇ  (–ª—é–±–∏–π –±—Ä–∞—É–∑–µ—Ä) ‚îÇ
                                     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üî• –ü–µ—Ä–µ–≤–∞–≥–∏

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ë–µ–∑ —Å–∫–ª–∞–¥–Ω–æ–≥–æ WebRTC setup
2. **–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å**: –ü—Ä–∞—Ü—é—î —á–µ—Ä–µ–∑ firewall/NAT
3. **–®–≤–∏–¥–∫—ñ—Å—Ç—å**: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞ 5 —Ö–≤–∏–ª–∏–Ω
4. **–ë–µ–∑–ø–µ–∫–∞**: HTTPS –∑ Let's Encrypt —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞–º–∏
5. **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å**: –î–µ–∫—ñ–ª—å–∫–∞ viewers –Ω–∞ –æ–¥–Ω—É –∫—ñ–º–Ω–∞—Ç—É

## üìä –§–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–¥–∞—á—ñ

–ö–∞–¥—Ä–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è —è–∫:
```json
{
  "type": "frame",
  "data": "base64_encoded_jpeg_image"
}
```

- **FPS**: 15 –∫–∞–¥—Ä—ñ–≤/—Å–µ–∫—É–Ω–¥—É
- **–§–æ—Ä–º–∞—Ç**: JPEG
- **–Ø–∫—ñ—Å—Ç—å**: 70% (–Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è)

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏:
```bash
ssh root@195.133.17.131
pkill -f "node server.js"
cd /root/simple-stream-server
nohup node server.js > /tmp/simple-stream.log 2>&1 &
```

### –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏:
```bash
ssh root@195.133.17.131 'tail -f /tmp/simple-stream.log'
```

### –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∞–∫—Ç–∏–≤–Ω—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è:
```bash
ssh root@195.133.17.131 'netstat -tuln | grep 8443'
```

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Python –∫–ª—ñ—î–Ω—Ç –Ω–µ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è
**–†—ñ—à–µ–Ω–Ω—è**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ URL –≤ `simple_recorder.py`:
```python
self.server_url = "wss://kibitkostreamappv.pp.ua"
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–∫–∞–∑—É—î –∫—ñ–º–Ω–∞—Ç–∏
**–†—ñ—à–µ–Ω–Ω—è**: 
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –ø—Ä–∞—Ü—é—î —Å–µ—Ä–≤–µ—Ä: `ssh root@195.133.17.131 'ps aux | grep node'`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏: `ssh root@195.133.17.131 'tail /tmp/simple-stream.log'`

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç 8443 –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π
**–†—ñ—à–µ–Ω–Ω—è**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ firewall:
```bash
ssh root@195.133.17.131 'ufw allow 8443/tcp'
```

## üìà –ú–∞–π–±—É—Ç–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

- [ ] –î–æ–¥–∞—Ç–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é
- [ ] –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ –∑–∞–ø–∏—Å–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
- [ ] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∞—É–¥—ñ–æ
- [ ] Chat –≤ –∫—ñ–º–Ω–∞—Ç–∞—Ö
- [ ] –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞ –ø–∞–Ω–µ–ª—å

## üìû –ö–æ–Ω—Ç–∞–∫—Ç–∏

–ü—Ä–æ–±–ª–µ–º–∏ –∞–±–æ –ø–∏—Ç–∞–Ω–Ω—è? –°—Ç–≤–æ—Ä—ñ—Ç—å issue –∞–±–æ –∑–≤'—è–∂—ñ—Ç—å—Å—è –∑ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–æ–º.

---

**Made with ‚ù§Ô∏è for reliable screen streaming**

