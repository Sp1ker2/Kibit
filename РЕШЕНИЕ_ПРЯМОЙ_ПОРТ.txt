✅ РЕШЕНИЕ: Использовать прямой порт 7880 для LiveKit

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

ПРОБЛЕМА: WebSocket через Nginx прокси возвращает 404 или ошибки

РЕШЕНИЕ: Подключаться напрямую к порту 7880, минуя Nginx

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

ЧТО УЖЕ СДЕЛАНО:

✅ Порт 7880 открыт в firewall (sudo ufw allow 7880/tcp)
✅ LiveKit запущен на порту 7880
✅ Nginx конфигурация правильная

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

ЧТО НУЖНО СДЕЛАТЬ:

1. Обновите config.ts на сервере:

   sudo bash /www/wwwroot/LiveKit/update-config-direct-port.sh

   Скрипт автоматически обновит config.ts для использования прямого порта 7880

2. Перезапустите frontend:

   - Перезапустите daemon в панели
   - Или перезапустите frontend процесс

3. Обновите страницу в браузере:

   - Нажмите Ctrl+F5 (полная перезагрузка)
   - Откройте консоль (F12)

4. Проверьте логи:

   - Должен быть лог: "LiveKit: wss://kibitkostreamappv.pp.ua:7880"
   - Попробуйте запустить стрим

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

ЧТО ИЗМЕНИТСЯ:

Было:
  LIVEKIT_URL = wss://kibitkostreamappv.pp.ua (через Nginx /rtc)

Станет:
  LIVEKIT_URL = wss://kibitkostreamappv.pp.ua:7880 (прямой порт)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

ПРЕИМУЩЕСТВА:

✅ Прямое подключение - быстрее и надежнее
✅ Нет проблем с Nginx проксированием WebSocket
✅ Меньше точек отказа

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

ПОСЛЕ ОБНОВЛЕНИЯ:

1. Обновите страницу в браузере (Ctrl+F5)
2. Откройте консоль (F12)
3. Проверьте логи - должно быть подключение к порту 7880
4. Попробуйте запустить стрим

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

После этого LiveKit должен подключиться напрямую к порту 7880!

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

