# üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ

## ‚úÖ –ß—Ç–æ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ

1. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** - –≤—Å–µ 5 —Å–µ—Ä–≤–µ—Ä–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã ‚úÖ
2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**:
   - Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ server3, server4, server5 ‚úÖ
   - npm —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ server1 ‚úÖ
   - livekit-server —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ server2, server3, server4, server5 ‚úÖ
3. **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**:
   - streamApp/ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –Ω–∞ –≤—Å–µ —Å–µ—Ä–≤–µ—Ä—ã ‚úÖ
   - livekit/ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –Ω–∞ –≤—Å–µ —Å–µ—Ä–≤–µ—Ä—ã ‚úÖ
   - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ server1 ‚úÖ
4. **Nginx Load Balancer** –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ server1 ‚úÖ

## ‚ö†Ô∏è –î–≤–µ –ø—Ä–æ–±–ª–µ–º—ã (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ)

### 1. –û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –Ω–∞ server4 (—Å—Ç—Ä–æ–∫–∞ 118-134)

**–ü—Ä–æ–±–ª–µ–º–∞:** `synchronize` –Ω–µ —Å–º–æ–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è server4

**–†–µ—à–µ–Ω–∏–µ:** 
- –ò–∑–º–µ–Ω–∏–ª –Ω–∞ –º–æ–¥—É–ª—å `copy` –≤–º–µ—Å—Ç–æ `synchronize` (–ª—É—á—à–µ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤)
- –¢–µ–ø–µ—Ä—å —Å–∫—Ä–∏–ø—Ç—ã –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### 2. –û—à–∏–±–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (—Å—Ç—Ä–æ–∫–∞ 189-201)

**–ü—Ä–æ–±–ª–µ–º–∞:** `pkill` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥ -15 (SIGTERM), Ansible —Å—á–∏—Ç–∞–µ—Ç —ç—Ç–æ –æ—à–∏–±–∫–æ–π

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω `ignore_errors: yes` –∏ `failed_when: false`
- –¢–µ–ø–µ—Ä—å Ansible –Ω–µ —Å—á–∏—Ç–∞–µ—Ç —ç—Ç–æ –æ—à–∏–±–∫–æ–π

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã –Ω–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö:**
```bash
cd ansible
ansible all -m shell -a "cd /www/wwwroot/LiveKit && ./start-simple.sh"
```

2. **–ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å playbook –µ—â–µ —Ä–∞–∑** - –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–∏—Å—ã –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω—ã

## ‚úÖ –ò—Ç–æ–≥

**–ü–æ—á—Ç–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!** –û—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã, –∫–æ–¥ —É–ª—É—á—à–µ–Ω. Nginx Load Balancer –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç! üéâ

