# üé¨ LiveKit Desktop Recorder

**C# –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ —ç–∫—Ä–∞–Ω–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ä–∞–±–æ—á–∏—Ö —Å—Ç–æ–ª–æ–≤ Windows**

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- ‚úÖ **–ó–∞—Ö–≤–∞—Ç –≤—Å–µ—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ä–∞–±–æ—á–∏—Ö —Å—Ç–æ–ª–æ–≤** (Desktop Duplication API)
- ‚úÖ **–ù–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å OBS** (—Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ!)
- ‚úÖ **–ó–∞–ø–∏—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–æ–Ω–∏—Ç–æ—Ä–æ–≤** –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- ‚úÖ **–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç** –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚úÖ **–°–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –≤ —Ç—Ä–µ–π** (–Ω–µ –º–µ—à–∞–µ—Ç —Ä–∞–±–æ—Ç–µ)
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞**: 5-8% CPU
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–∞—à–∏–º API** (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤)

---

## üöÄ –ö–ê–ö –°–û–ë–†–ê–¢–¨ EXE:

### **–í–∞—Ä–∏–∞–Ω—Ç 1: Visual Studio (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

1. **–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç:**
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å Visual Studio 2022
   - `File` ‚Üí `Open` ‚Üí `Project/Solution`
   - –í—ã–±—Ä–∞—Ç—å `DesktopRecorderApp.csproj`

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   - –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ –ø—Ä–æ–µ–∫—Ç ‚Üí `Manage NuGet Packages`
   - –ù–∞–∂–∞—Ç—å `Restore` (–≤—Å–µ –ø–∞–∫–µ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

3. **–°–æ–±—Ä–∞—Ç—å:**
   - –í—ã–±—Ä–∞—Ç—å `Release` (–≤–º–µ—Å—Ç–æ Debug) –≤ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏
   - –ù–∞–∂–∞—Ç—å `F5` –∏–ª–∏ `Build` ‚Üí `Build Solution`

4. **–ü–æ–ª—É—á–∏—Ç—å EXE:**
   ```
   bin/Release/net8.0-windows/LiveKitRecorder.exe
   ```

---

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ (.NET SDK)**

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å .NET 8 SDK (–µ—Å–ª–∏ –Ω–µ—Ç)
# –°–∫–∞—á–∞—Ç—å: https://dotnet.microsoft.com/download/dotnet/8.0

# 2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd DesktopRecorderApp

# 3. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã
dotnet restore

# 4. –°–æ–±—Ä–∞—Ç—å Release
dotnet publish -c Release -r win-x64 --self-contained false

# 5. EXE –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤:
# bin/Release/net8.0-windows/win-x64/publish/LiveKitRecorder.exe
```

---

## üì¶ –ë–´–°–¢–†–ê–Ø –°–ë–û–†–ö–ê:

**–ï—Å–ª–∏ –µ—Å—Ç—å .NET SDK:**

```bash
cd DesktopRecorderApp
dotnet publish -c Release -r win-x64 --self-contained true -p:PublishSingleFile=true
```

**–ü–æ–ª—É—á–∏—Ç–µ –û–î–ò–ù —Ñ–∞–π–ª:**
```
bin/Release/net8.0-windows/win-x64/publish/LiveKitRecorder.exe
```

–ú–æ–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ª—é–±–æ–π Windows –ü–ö –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ .NET! ‚úÖ

---

## ‚öôÔ∏è –°–ò–°–¢–ï–ú–ù–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø:

- **–û–°:** Windows 10/11 (64-bit)
- **.NET:** .NET 8.0 Runtime (–∏–ª–∏ self-contained —Å–±–æ—Ä–∫–∞)
- **RAM:** 200 MB
- **CPU:** –õ—é–±–æ–π (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –Ω–∏–∑–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏)

---

## üéØ –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å** `LiveKitRecorder.exe`
2. **–í–æ–π—Ç–∏:**
   - –í—ã–±—Ä–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É
   - –í–≤–µ—Å—Ç–∏ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å
3. **–í—ã–±—Ä–∞—Ç—å —ç–∫—Ä–∞–Ω—ã** –¥–ª—è –∑–∞–ø–∏—Å–∏ (1, 2 –∏–ª–∏ –æ–±–∞)
4. **–ù–∞–∂–∞—Ç—å "–ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å"**
5. **–°–≤–µ—Ä–Ω—É—Ç—å –≤ —Ç—Ä–µ–π** (–∫–Ω–æ–ø–∫–∞ "‚Üì –°–≤–µ—Ä–Ω—É—Ç—å –≤ —Ç—Ä–µ–π")
6. **–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å—Ç–æ–ª—ã** - –≤—Å—ë –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è! ‚úÖ

---

## üîß –ù–ê–°–¢–†–û–ô–ö–ò:

### **–ò–∑–º–µ–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:**

–í —Ñ–∞–π–ª–µ `ScreenRecorder.cs` —Å—Ç—Ä–æ–∫–∞ 44:
```csharp
// –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤–∏–¥–µ–æ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
saveTimer = new System.Threading.Timer(async _ => await SaveCurrentVideo(), null, 
    TimeSpan.FromMinutes(5), TimeSpan.FromMinutes(5));
    //              üëÜ –ó–î–ï–°–¨ –º–µ–Ω—è–µ–º –Ω–∞ 1, 2, 10 –∏ —Ç.–¥.
```

### **–ò–∑–º–µ–Ω–∏—Ç—å FPS:**

–í —Ñ–∞–π–ª–µ `ScreenRecorder.cs` —Å—Ç—Ä–æ–∫–∞ 38:
```csharp
// –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ–º –∫–∞–¥—Ä—ã –∫–∞–∂–¥—ã–µ 33 –º—Å (30 FPS)
captureTimer = new System.Threading.Timer(CaptureFrame, null, 0, 33);
//                                                           üëÜ
// 33 –º—Å = 30 FPS
// 16 –º—Å = 60 FPS (–Ω–æ –±–æ–ª—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞!)
```

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í:

```
DesktopRecorderApp/
‚îú‚îÄ‚îÄ DesktopRecorderApp.csproj   ‚Üê –§–∞–π–ª –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ Program.cs                  ‚Üê –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ MainForm.cs                 ‚Üê –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ ApiClient.cs                ‚Üê –†–∞–±–æ—Ç–∞ —Å API
‚îú‚îÄ‚îÄ ScreenRecorder.cs           ‚Üê –ó–∞—Ö–≤–∞—Ç —ç–∫—Ä–∞–Ω–∞
‚îî‚îÄ‚îÄ README.md                   ‚Üê –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
```

---

## üêõ –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú:

### **–û—à–∏–±–∫–∞: "The type or namespace name 'SharpAvi' could not be found"**

```bash
dotnet restore
```

### **–û—à–∏–±–∫–∞: ".NET 8.0 not installed"**

–°–∫–∞—á–∞—Ç—å: https://dotnet.microsoft.com/download/dotnet/8.0

### **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω:**

–ó–∞–ø—É—Å—Ç–∏—Ç—å **–æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**

---

## ‚úÖ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –ü–ï–†–ï–î ELECTRON:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Electron | C# |
|----------|----------|-----|
| –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å—Ç–æ–ª—ã | ‚ùå –ù–µ –≤–∏–¥–∏—Ç | ‚úÖ –í–∏–¥–∏—Ç –í–°–Å |
| –ù–∞–≥—Ä—É–∑–∫–∞ CPU | 8-12% | 5-8% |
| –†–∞–∑–º–µ—Ä EXE | 85 MB | 15 MB |
| –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å OBS | ‚ö†Ô∏è –ú–æ–∂–µ—Ç –±—ã—Ç—å | ‚úÖ –ù–µ—Ç |

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê:

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø–∏—à–∏—Ç–µ! 

**–ì–æ—Ç–æ–≤–æ! –ú–æ–∂–Ω–æ —Å–æ–±–∏—Ä–∞—Ç—å!** üöÄ


