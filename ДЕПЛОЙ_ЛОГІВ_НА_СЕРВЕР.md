# Інструкція для деплою системи логування на сервер

## Швидкий спосіб (через скрипт)

```bash
./deploy-logs-feature.sh
```

## Ручний спосіб (якщо скрипт не працює)

### 1. Відправка файлів на сервер

```bash
# Підключення до сервера
ssh root@195.133.39.41

# На сервері - створення директорій якщо не існують
cd /www/wwwroot/LiveKit
mkdir -p PythonRecorderApp
mkdir -p streamApp/server
mkdir -p streamApp/src
mkdir -p streamApp/src/components
mkdir -p streamApp/src/components/admin
```

### 2. З локального комп'ютера - відправка файлів

```bash
cd /Users/bogdanprihodko/Downloads/LiveKit

# Відправка всіх файлів
scp PythonRecorderApp/simple_recorder.py root@195.133.39.41:/www/wwwroot/LiveKit/PythonRecorderApp/
scp streamApp/server/api.js root@195.133.39.41:/www/wwwroot/LiveKit/streamApp/server/
scp streamApp/src/App.tsx root@195.133.39.41:/www/wwwroot/LiveKit/streamApp/src/
scp streamApp/src/components/LoginForm.tsx root@195.133.39.41:/www/wwwroot/LiveKit/streamApp/src/components/
scp streamApp/src/components/admin/AdminDashboard.tsx root@195.133.39.41:/www/wwwroot/LiveKit/streamApp/src/components/admin/
scp streamApp/src/components/admin/AdminHeader.tsx root@195.133.39.41:/www/wwwroot/LiveKit/streamApp/src/components/admin/
scp streamApp/src/components/admin/RecorderLogsPage.tsx root@195.133.39.41:/www/wwwroot/LiveKit/streamApp/src/components/admin/
```

### 3. На сервері - збірка та перезапуск

```bash
ssh root@195.133.39.41

cd /www/wwwroot/LiveKit/streamApp

# Збірка frontend
npm run build

# Зупинка старого процесу API
pkill -f "node.*api.js" || true
sleep 2

# Запуск нового API сервера
nohup node server/api.js > /tmp/api-server.log 2>&1 &

# Перевірка що все працює
ps aux | grep "node.*api.js"
tail -f /tmp/api-server.log
```

### 4. Перевірка

- Відкрийте в браузері: `https://kibitkostreamappv.pp.ua/logs`
- Перевірте логи API: `tail -f /tmp/api-server.log`
- Перевірте що API відповідає: `curl https://kibitkostreamappv.pp.ua:8443/api/recorder/logs`

## Що було додано:

1. ✅ Система логування в Python рекордері (файли в `~/.livekit_recorder_logs/`)
2. ✅ API endpoints для отримання логів (`/api/recorder/logs`)
3. ✅ React компонент для перегляду логів (`RecorderLogsPage.tsx`)
4. ✅ Роут `/logs` для прямого доступу
5. ✅ Посилання в меню та на сторінці логіну

